#!/usr/bin/with-contenv bash

LDAP_ATTRIBUTE_ADDRESSBOOK_HIDDEN=${LDAP_ATTRIBUTE_ADDRESSBOOK_HIDDEN:-"kopanoHidden"}
LDAP_ATTRIBUTE_ADDRESSLIST_FILTER=${LDAP_ATTRIBUTE_ADDRESSLIST_FILTER:-"kopanoFilter"}
LDAP_ATTRIBUTE_ADDRESSLIST_NAME=${LDAP_ATTRIBUTE_ADDRESSLIST_NAME:-"cn"}
LDAP_ATTRIBUTE_ADDRESSLIST_SEARCH_BASE=${LDAP_ATTRIBUTE_ADDRESSLIST_SEARCH_BASE:-"kopanoBase"}
LDAP_ATTRIBUTE_COMPANY_ADMIN=${LDAP_ATTRIBUTE_COMPANY_ADMIN:-"kopanoAdminPrivilege"}
LDAP_ATTRIBUTE_COMPANY_ADMIN_RELATION=${LDAP_ATTRIBUTE_COMPANY_ADMIN_RELATION:-""}
LDAP_ATTRIBUTE_COMPANY_NAME=${LDAP_ATTRIBUTE_COMPANY_NAME:-"ou"}
LDAP_ATTRIBUTE_COMPANY_SYSADMIN=${LDAP_ATTRIBUTE_COMPANY_SYSADMIN:-"kopanoSystemAdmin"}
LDAP_ATTRIBUTE_COMPANY_SYSADMIN_RELATION=${LDAP_ATTRIBUTE_COMPANY_SYSADMIN_RELATION:-""}
LDAP_ATTRIBUTE_COMPANY_VIEW=${LDAP_ATTRIBUTE_COMPANY_VIEW:-"kopanoViewPrivilege"}
LDAP_ATTRIBUTE_COMPANY_VIEW=${LDAP_ATTRIBUTE_COMPANY_VIEW:-"kopanoViewPrivilege"}
LDAP_ATTRIBUTE_DYNAMICGROUP_FILTER=${LDAP_ATTRIBUTE_DYNAMICGROUP_FILTER:-"kopanoFilter"}
LDAP_ATTRIBUTE_DYNAMICGROUP_NAME=${LDAP_ATTRIBUTE_DYNAMICGROUP_NAME:-"cn"}
LDAP_ATTRIBUTE_DYNAMICGROUP_SEARCH_BASE=${LDAP_ATTRIBUTE_DYNAMICGROUP_SEARCH_BASE:-"kopanoBase"}
LDAP_ATTRIBUTE_DYNAMICGROUP_UNIQUE=${LDAP_ATTRIBUTE_DYNAMICGROUP_UNIQUE:-"cn"}
LDAP_ATTRIBUTE_EMAIL_ADDRESS=${LDAP_ATTRIBUTE_EMAIL_ADDRESS:-"mail"}
LDAP_ATTRIBUTE_FULLNAME=${LDAP_ATTRIBUTE_FULLNAME:-"cn"}
LDAP_ATTRIBUTE_GROUP_NAME=${LDAP_ATTRIBUTE_GROUP_NAME:-"cn"}
LDAP_ATTRIBUTE_ISADMIN=${LDAP_ATTRIBUTE_ISADMIN:-"kopanoAdmin"}
LDAP_ATTRIBUTE_MULTIUSER_ADDRESS=${LDAP_ATTRIBUTE_MULTIUSER_ADDRESS:-"ipHostNumber"}
LDAP_ATTRIBUTE_MULTIUSER_COMPANY_SERVER=${LDAP_ATTRIBUTE_MULTIUSER_COMPANY_SERVER:-"kopanoCompanyServer"}
LDAP_ATTRIBUTE_MULTIUSER_LDAP_SERVER_CONTAINS_PUBLIC=${LDAP_ATTRIBUTE_MULTIUSER_LDAP_SERVER_CONTAINS_PUBLIC:-"kopanoContainsPublic"}
LDAP_ATTRIBUTE_MULTIUSER_LDAP_SERVER_FILE_PATH=${LDAP_ATTRIBUTE_MULTIUSER_LDAP_SERVER_FILE_PATH:-"kopanoFilePath"}
LDAP_ATTRIBUTE_MULTIUSER_LDAP_SERVER_HTTPS_PORT=${LDAP_ATTRIBUTE_MULTIUSER_LDAP_SERVER_HTTPS_PORT:-"kopanoSslPort"}
LDAP_ATTRIBUTE_MULTIUSER_LDAP_SERVER_HTTP_PORT=${LDAP_ATTRIBUTE_MULTIUSER_LDAP_SERVER_HTTP_PORT:-"kopanoHttpPort"}
LDAP_ATTRIBUTE_MULTIUSER_LDAP_SERVER_PROXY_URL=${LDAP_ATTRIBUTE_MULTIUSER_LDAP_SERVER_PROXY_URL:-"kopanoProxyURL"}
LDAP_ATTRIBUTE_MULTIUSER_USER_SERVER=${LDAP_ATTRIBUTE_MULTIUSER_USER_SERVER:-"kopanoUserServer"}
LDAP_ATTRIBUTE_NONACTIVE=${LDAP_ATTRIBUTE_NONACTIVE:-"kopanoSharedStoreOnly"}
LDAP_ATTRIBUTE_QUOTA_COMPANYWARNING_RECIPIENTS=${LDAP_ATTRIBUTE_QUOTA_COMPANYWARNING_RECIPIENTS:-"kopanoQuotaCompanyWarningRecipients"}
LDAP_ATTRIBUTE_QUOTA_COMPANYWARNING_RECIPIENTS_RELATION=${LDAP_ATTRIBUTE_QUOTA_COMPANYWARNING_RECIPIENTS_RELATION:-""}
LDAP_ATTRIBUTE_QUOTA_HARD=${LDAP_ATTRIBUTE_QUOTA_HARD:-"kopanoQuotaHard"}
LDAP_ATTRIBUTE_QUOTA_OVERRIDE=${LDAP_ATTRIBUTE_QUOTA_OVERRIDE:-"kopanoQuotaOverride"}
LDAP_ATTRIBUTE_QUOTA_SOFT=${LDAP_ATTRIBUTE_QUOTA_SOFT:-"kopanoQuotaSoft"}
LDAP_ATTRIBUTE_QUOTA_USERDEFAULT_HARD=${LDAP_ATTRIBUTE_QUOTA_USERDEFAULT_HARD:-"kopanoUserDefaultQuotaHard"}
LDAP_ATTRIBUTE_QUOTA_USERDEFAULT_OVERRIDE=${LDAP_ATTRIBUTE_QUOTA_USERDEFAULT_OVERRIDE:-"kopanoDefaultQuotaOverride"}
LDAP_ATTRIBUTE_QUOTA_USERDEFAULT_SOFT=${LDAP_ATTRIBUTE_QUOTA_USERDEFAULT_SOFT:-"kopanoUserDefaultQuotaSoft"}
LDAP_ATTRIBUTE_QUOTA_USERDEFAULT_WARN=${LDAP_ATTRIBUTE_QUOTA_USERDEFAULT_WARN:-"kopanoUserDefaultQuotaWarn"}
LDAP_ATTRIBUTE_QUOTA_USERWARNING_RECIPIENTS=${LDAP_ATTRIBUTE_QUOTA_USERWARNING_RECIPIENTS:-"kopanoQuotaUserWarningRecipients"}
LDAP_ATTRIBUTE_QUOTA_USERWARNING_RECIPIENTS_RELATION=${LDAP_ATTRIBUTE_QUOTA_USERWARNING_RECIPIENTS_RELATION:-""}
LDAP_ATTRIBUTE_QUOTA_WARN=${LDAP_ATTRIBUTE_QUOTA_WARN:-"kopanoQuotaWarn"}
LDAP_ATTRIBUTE_QUOTA_WARN=${LDAP_ATTRIBUTE_QUOTA_WARN:-"kopanoQuotaWarn"}
LDAP_ATTRIBUTE_RESOURCECAPACITY=${LDAP_ATTRIBUTE_RESOURCECAPACITY:-"kopanoResourceCapacity"}
LDAP_ATTRIBUTE_RESOURCETYPE=${LDAP_ATTRIBUTE_RESOURCETYPE:-"kopanoResourceType"}
LDAP_ATTRIBUTE_SENDAS=${LDAP_ATTRIBUTE_SENDAS:-"kopanoSendAsPrivilege"}
LDAP_ATTRIBUTE_TYPE_ADDRESSLIST_UNIQUE=${LDAP_ATTRIBUTE_TYPE_ADDRESSLIST_UNIQUE:-"text"}
LDAP_ATTRIBUTE_TYPE_DYNAMICGROUP_UNIQUE=${LDAP_ATTRIBUTE_TYPE_DYNAMICGROUP_UNIQUE:-"text"}
LDAP_AUTHENTICATION_METHOD=${LDAP_AUTHENTICATION_METHOD:-"bind"}
LDAP_FILE_PROPMAP=${LDAP_FILE_PROPMAP:-"ldap-propmap.cfg"}
LDAP_FILTER_ADDRESSLIST_SEARCH=${LDAP_FILTER_ADDRESSLIST_SEARCH:-""}
LDAP_FILTER_CUTOFF_ELEMENTS=${LDAP_FILTER_CUTOFF_ELEMENTS:-"1000"}
LDAP_FILTER_DYNAMICGROUP_SEARCH=${LDAP_FILTER_DYNAMICGROUP_SEARCH:-""}
LDAP_FILTER_KONNECT=${LDAP_FILTER_KONNECT:-"(objectClass=inetOrgPerson)"}
LDAP_OBJECT_ATTRIBUTE_TYPE=${LDAP_OBJECT_ATTRIBUTE_TYPE:-"objectClass"}
LDAP_OBJECT_ATTRIBUTE_TYPE_ADDRESSLIST=${LDAP_OBJECT_ATTRIBUTE_TYPE_ADDRESSLIST:-"kopano-addresslist"}
LDAP_OBJECT_ATTRIBUTE_TYPE_COMPANY=${LDAP_OBJECT_ATTRIBUTE_TYPE_COMPANY:-"organizationalUnit"}
LDAP_PAGE_SIZE=${LDAP_PAGE_SIZE:-1000}
LDAP_QUOTA_MULTIPLIER=${LDAP_QUOTA_MULTIPLIER:-1048576}
LDAP_SCOPE=${LDAP_SCOPE:-"sub"}
LDAP_STARTTLS=${LDAP_STARTTLS:-"FALSE"}
LDAP_TIMEOUT=${LDAP_TIMEOUT:-30}
LDAP_TYPE=${LDAP_TYPE:-"OPENLDAP"}
SERVER_ATTACHMENT_BACKEND=${SERVER_ATTACHMENT_BACKEND:-"files_v2"}
SERVER_ATTACHMENT_BACKEND_FILES_FSYNC=${SERVER_ATTACHMENT_BACKEND_FILES_FSYNC:-"TRUE"}
SERVER_ATTACHMENT_BACKEND_FILES_PATH=${SERVER_ATTACHMENT_BACKEND_FILES_PATH:-"/data/attachments/"}
SERVER_ATTACHMENT_BACKEND_S3_PATH=${SERVER_ATTACHMENT_BACKEND_S3_PATH:-"attachments"}
SERVER_ATTACHMENT_COMPRESSION=${SERVER_ATTACHMENT_COMPRESSION:-6}
SERVER_ATTACHMENT_S3_PROTOCOL=${SERVER_ATTACHMENT_S3_PROTOCOL:-"HTTPS"}
SERVER_DISABLED_FEATURES=${SERVER_DISABLED_FEATURES:-""}
SERVER_ENABLE_GAB=${SERVER_ENABLE_GAB:-"TRUE"}
SERVER_ENABLE_MULTI_TENANT=${SERVER_ENABLE_MULTI_TENANT:-FALSE}
SERVER_ENABLE_OPTIMIZED_SQL=${SERVER_ENABLE_OPTIMIZED_SQL:-"TRUE"}
SERVER_ENABLE_SEARCH=${SERVER_ENABLE_SEARCH:-"TRUE"}
SERVER_ENABLE_SSO=${SERVER_ENABLE_SSO:-"FALSE"}
SERVER_GAB_HIDE_EVERYONE=${SERVER_GAB_HIDE_EVERYONE:-"FALSE"}
SERVER_GAB_HIDE_SYSTEM=${SERVER_GAB_HIDE_SYSTEM:-"FALSE"}
SERVER_GAB_SYNC_REALTIME=${SERVER_GAB_SYNC_REALTIME:-"TRUE"}
SERVER_HOSTNAME=${SERVER_HOSTNAME:-""}
SERVER_LISTEN_HOST=${SERVER_LISTEN_HOST:-"*%lo"}
SERVER_LISTEN_PORT=${SERVER_LISTEN_PORT_:-236}
SERVER_LISTEN_PORT_SECURE=${SERVER_LISTEN_PORT_SECURE:-237}
SERVER_LOCAL_ADMIN_USERS=${SERVER_LOCAL_ADMIN_USERS:-"root kopano"}
SERVER_MULTI_TENANT_LOGINNAME_FORMAT=${SERVER_MULTI_TENANT_LOGINNAME_FORMAT:-"%u"}
SERVER_MULTI_TENANT_STORENAME_FORMAT=${SERVER_MULTI_TENANT_STORENAME_FORMAT:-"%f_%c"}
SERVER_OIDC_DISABLE_TLS_VALIDATION=${SERVER_OIDC_DISABLE_TLS_VALIDATION:-"FALSE"}
SERVER_OIDC_TIMEOUT_INITIALIZE=${SERVER_OIDC_TIMEOUT_INITIALIZE:-"60"}
SERVER_PIPE_NAME=${SERVER_PIPE_NAME:-"/var/run/kopano/server.sock"}
SERVER_PIPE_PRIORITY_NAME=${SERVER_PIPE_PRIORITY_NAME:-"/var/run/kopano/prio.sock"}
SERVER_PURGE_SOFTDELETE=${SERVER_PURGE_SOFTDELETE:-30}
SERVER_QUOTA_COMPANY_WARN=${SERVER_QUOTA_COMPANY_WARN:-"0"}
SERVER_QUOTA_HARD=${SERVER_QUOTA_HARD:-"8192"}
SERVER_QUOTA_SOFT=${SERVER_QUOTA_SOFT:-"4096"}
SERVER_QUOTA_WARN=${SERVER_QUOTA_WARN:-"1024"}
SERVER_SCRIPT_CREATECOMPANY=${SERVER_SCRIPT_CREATECOMPANY:-"/usr/lib/kopano/userscripts/createcompany"}
SERVER_SCRIPT_CREATEGROUP=${SERVER_SCRIPT_CREATEGROUP:-"/usr/lib/kopano/userscripts/creategroup"}
SERVER_SCRIPT_CREATEUSER=${SERVER_SCRIPT_CREATEUSER:-"/usr/lib/kopano/userscripts/createuser"}
SERVER_SCRIPT_DELETECOMPANY=${SERVER_SCRIPT_DELETECOMPANY:-"/usr/lib/kopano/userscripts/deletecompany"}
SERVER_SCRIPT_DELETEGROUP=${SERVER_SCRIPT_DELETEGROUP:-"/usr/lib/kopano/userscripts/deletegroup"}
SERVER_SCRIPT_DELETEUSER=${SERVER_SCRIPT_DELETEUSER:-"/usr/lib/kopano/userscripts/deleteuser"}
SERVER_SERVER_NAME=${SERVER_SERVER_NAME:-"Kopano"}
SERVER_SSL_CERT_FILE=${SERVER_SSL_CERT_FILE:-"/certs/core/server.crt"}
SERVER_SSL_KEY_FILE=${SERVER_SSL_KEY_FILE:-"/certs/core/server.pem"}
SERVER_SSL_PUBLIC_PATH=${SERVER_SSL_PUBLIC_PATH:-"/certs/core/public/"}
SERVER_SYSTEM_EMAIL_ADDRESS=${SERVER_SYSTEM_EMAIL_ADDRESS:-"postmaster@example.com"}
SERVER_THREADS=${SERVER_THREADS:-8}
SERVER_TIMEOUT_RECIEVE=${SERVER_TIMEOUT_RECIEVE:-5}
SERVER_TIMEOUT_SEND=${SERVER_TIMEOUT_SEND:-60}
SERVER_TLS_MIN_PROTOCOL=${SERVER_TLS_MIN_PROTOCOL:-"tls1.2"}
SERVER_USER_PLUGIN=${SERVER_USER_PLUGIN:-"ldap"}
SERVER_USER_SAFE_MODE=${SERVER_USER_SAFE_MODE:-"FALSE"}
SERVER_WATCHDOG_FREQUENCY=${SERVER_WATCHDOG_FREQUENCY:-1}
SERVER_WATCHDOG_MAX_AGE=${SERVER_WATCHDOG_MAX_AGE:-500}
USERSCRIPT_PATH=${USERSCRIPT_PATH:-"/etc/kopano/userscripts/"}
case "$LDAP_TYPE" in
    "AD" | "ad" | "ACTIVEDIRECTORY" | "activedirectory" )
        LDAP_ATTRIBUTE_LAST_MODIFICATION=${LDAP_ATTRIBUTE_LAST_MODIFICATION:-"uSNChanged"}
        LDAP_OBJECT_ATTRIBUTE_TYPE_USER=${LDAP_OBJECT_ATTRIBUTE_TYPE_USER:-"user"}
        LDAP_OBJECT_ATTRIBUTE_TYPE_GROUP=${LDAP_OBJECT_ATTRIBUTE_TYPE_GROUP:-"group"}
        LDAP_OBJECT_ATTRIBUTE_TYPE_CONTACT=${LDAP_OBJECT_ATTRIBUTE_TYPE_CONTACT:-"contact"}
        LDAP_OBJECT_ATTRIBUTE_TYPE_DYNAMICGROUP=${LDAP_OBJECT_ATTRIBUTE_TYPE_DYNAMICGROUP:-"kopanoDyanmicGroup"}
        LDAP_OBJECT_ATTRIBUTE_TYPE_SERVER=${LDAP_OBJECT_ATTRIBUTE_TYPE_SERVER:-"computer"}
        LDAP_FILTER_USER_SEARCH=${LDAP_FILTER_USER_SEARCH:-"(objectCategory=Person)"}
        LDAP_ATTRIBUTE_USER_UNIQUE=${LDAP_ATTRIBUTE_USER_UNIQUE:-"objectGUID"}
        LDAP_ATTRIBUTE_TYPE_USER_UNIQUE=${LDAP_ATTRIBUTE_TYPE_USER_UNIQUE:-"binary"}
        LDAP_ATTRIBUTE_LOGINNAME=${LDAP_ATTRIBUTE_LOGINNAME:-"sAMAccountName"}
        LDAP_ATTRIBUTE_PASSWORD=${LDAP_ATTRIBUTE_PASSWORD:-"unicodePwd"}
        LDAP_ATTRIBUTE_EMAIL_ALIASES=${LDAP_ATTRIBUTE_EMAIL_ALIASES:-"otherMailbox"}
        LDAP_ATTRIBUTE_TYPE_SENDAS=${LDAP_ATTRIBUTE_TYPE_SENDAS:-"dn"}
        LDAP_ATTRIBUTE_SENDAS_RELATION=${LDAP_ATTRIBUTE_SENDAS_RELATION:-"distinguishedName"}
        LDAP_ATTRIBUTE_USER_CERTIFICATE=${LDAP_ATTRIBUTE_USER_CERTIFICATE:-"userCertificate"}
        LDAP_FILTER_GROUP_SEARCH=${LDAP_FILTER_GROUP_SEARCH:-"(objectCategory=Group)"}
        LDAP_ATTRIBUTE_GROUP_UNIQUE=${LDAP_ATTRIBUTE_GROUP_UNIQUE:-"objectSid"}
        LDAP_ATTRIBUTE_TYPE_GROUP_UNIQUE=${LDAP_ATTRIBUTE_TYPE_GROUP_UNIQUE:-"binary"}
        LDAP_ATTRIBUTE_GROUP_MEMBERS=${LDAP_ATTRIBUTE_GROUP_MEMBERS:-"member"}
        LDAP_ATTRIBUTE_TYPE_GROUP_MEMBERS=${LDAP_ATTRIBUTE_TYPE_GROUP_MEMBERS:-"binary"}
        LDAP_ATTRIBUTE_GROUP_MEMBERS_RELATION=${LDAP_ATTRIBUTE_GROUP_MEMBERS_RELATION:-""}
        LDAP_ATTRIBUTE_GROUP_SECURITY=${LDAP_ATTRIBUTE_GROUP_SECURITY:-"groupType"}
        LDAP_ATTRIBUTE_TYPE_GROUP_SECURITY=${LDAP_ATTRIBUTE_TYPE_GROUP_SECURITY:-"ads"}
        LDAP_FILTER_COMPANY_SEARCH=${LDAP_FILTER_COMPANY_SEARCH:-"(objectCategory=Company)"}
        LDAP_ATTRIBUTE_COMPANY_UNIQUE=${LDAP_ATTRIBUTE_COMPANY_UNIQUE:-"objectGUID"}
        LDAP_ATTRIBUTE_TYPE_COMPANY_UNIQUE=${LDAP_ATTRIBUTE_TYPE_COMPANY_UNIQUE:-"binary"}
        LDAP_ATTRIBUTE_TYPE_COMPANY_VIEW=${LDAP_ATTRIBUTE_TYPE_COMPANY_VIEW:-"dn"}
        LDAP_ATTRIBUTE_TYPE_COMPANY_ADMIN=${LDAP_ATTRIBUTE_COMPANY_ADMIN:-"dn"}
        LDAP_ATTRIBUTE_TYPE_COMPANY_SYSADMIN=${LDAP_ATTRIBUTE_TYPE_COMPANY_SYSADMIN:-"dn"}
        LDAP_ATTRIBUTE_ADDRESSLIST_UNIQUE=${LDAP_ATTRIBUTE_ADDRESSLIST_UNIQUE:-"cn"}
        LDAP_ATTRIBUTE_TYPE_QUOTA_USERWARNING_RECIPIENTS=${LDAP_ATTRIBUTE_TYPE_QUOTA_USERWARNING_RECIPIENTS:-"dn"}
        LDAP_ATTRIBUTE_TYPE_QUOTA_COMPANYWARNING_RECIPIENTS=${LDAP_ATTRIBUTE_TYPE_QUOTA_COMPANYWARNING_RECIPIENTS:-"dn"}
        LDAP_QUOTA_MULTIPLIER=${LDAP_QUOTA_MULTIPLIER:-"1048576"}
        LDAP_FILTER_OBJECT_SEARCH=${LDAP_FILTER_OBJECT_SEARCH:-"(anr=%s)"}
        LDAP_FILTER_MULTIUSER_SERVER_SEARCH=${LDAP_FILTER_MULTIUSER_SERVER_SEARCH:-"(objectCategory=Computer)"}
        LDAP_ATTRIBUTE_MULTIUSER_SERVER_UNIQUE=${LDAP_ATTRIBUTE_MULTIUSER_SERVER_UNIQUE:-"CN"}
    ;;
    "FUSIONDIRECTORY" | "fusiondirectory" | "FD" | "fd" )
        LDAP_ATTRIBUTE_LAST_MODIFICATION=${LDAP_ATTRIBUTE_LAST_MODIFICATION:-"modifyTimestamp"}
        LDAP_ATTRIBUTE_ADDRESSLIST_UNIQUE=entryUUID
        LDAP_ATTRIBUTE_COMPANY_UNIQUE=o
        LDAP_ATTRIBUTE_DYNAMICGROUP_UNIQUE=entryUUID
        LDAP_ATTRIBUTE_EMAIL_ALIASES=${LDAP_ATTRIBUTE_EMAIL_ALIASES:-"kopanoAliases"}
        LDAP_ATTRIBUTE_GROUP_MEMBERS="member"
        LDAP_ATTRIBUTE_GROUP_MEMBERS_RELATION=${LDAP_ATTRIBUTE_GROUP_MEMBERS_RELATION:-"uid"}
        LDAP_ATTRIBUTE_GROUP_SECURITY=${LDAP_ATTRIBUTE_GROUP_SECURITY:-"kopanoSecurityGroup"}
        LDAP_ATTRIBUTE_GROUP_UNIQUE=entryUUID
        LDAP_ATTRIBUTE_LOGINNAME=${LDAP_ATTRIBUTE_LOGINNAME:-"uid"}
        LDAP_ATTRIBUTE_MULTIUSER_SERVER_UNIQUE=entryUUID
        LDAP_ATTRIBUTE_PASSWORD=${LDAP_ATTRIBUTE_PASSWORD:-"userPassword"}
        LDAP_ATTRIBUTE_SENDAS_RELATION=${LDAP_ATTRIBUTE_SENDAS_RELATION:-""}
        LDAP_ATTRIBUTE_TYPE_COMPANY_ADMIN=${LDAP_ATTRIBUTE_TYPE_COMPANY_ADMIN:-"text"}
        LDAP_ATTRIBUTE_TYPE_COMPANY_SYSADMIN=${LDAP_ATTRIBUTE_TYPE_COMPANY_SYSADMIN:-"text"}
        LDAP_ATTRIBUTE_TYPE_COMPANY_UNIQUE=${LDAP_ATTRIBUTE_TYPE_COMPANY_UNIQUE:-"text"}
        LDAP_ATTRIBUTE_TYPE_COMPANY_VIEW=${LDAP_ATTRIBUTE_TYPE_COMPANY_VIEW:-"text"}
        LDAP_ATTRIBUTE_TYPE_GROUP_MEMBERS=${LDAP_ATTRIBUTE_TYPE_GROUP_MEMBERS:-"text"}
        LDAP_ATTRIBUTE_TYPE_GROUP_SECURITY=${LDAP_ATTRIBUTE_TYPE_GROUP_SECURITY:-"boolean"}
        LDAP_ATTRIBUTE_TYPE_GROUP_UNIQUE=${LDAP_ATTRIBUTE_TYPE_GROUP_UNIQUE:-"text"}
        LDAP_ATTRIBUTE_TYPE_QUOTA_COMPANYWARNING_RECIPIENTS=${LDAP_ATTRIBUTE_TYPE_QUOTA_COMPANYWARNING_RECIPIENTS:-"text"}
        LDAP_ATTRIBUTE_TYPE_QUOTA_USERWARNING_RECIPIENTS=${LDAP_ATTRIBUTE_TYPE_QUOTA_USERWARNING_RECIPIENTS:-"text"}
        LDAP_ATTRIBUTE_TYPE_SENDAS=${LDAP_ATTRIBUTE_TYPE_SENDAS:-"text"}
        LDAP_ATTRIBUTE_TYPE_USER_UNIQUE=${LDAP_ATTRIBUTE_TYPE_USER_UNIQUE:-"text"}
        LDAP_ATTRIBUTE_USER_CERTIFICATE=${LDAP_ATTRIBUTE_USER_CERTIFICATE:-"userCertificate;binary"}
        LDAP_ATTRIBUTE_USER_UNIQUE=entryUUID
        LDAP_FILTER_ADDRESSLIST_SEARCH="(&(objectClass=kopano-addresslist)(kopanoAccount=1))"
        LDAP_FILTER_COMPANY_SEARCH="(&(objectClass=kopano-company))"
        LDAP_FILTER_DYNAMICGROUP_SEARCH=${LDAP_FILTER_DYNAMICGROUP_SEARCH:-"(&(objectClass=kopano-dyanmicgroup)(kopanoAccount=1))"}
        LDAP_FILTER_GROUP_SEARCH="(&(objectClass=kopano-group)(kopanoAccount=1))"
        LDAP_FILTER_MULTIUSER_SERVER_SEARCH="(&(objectClass=kopano-server))"
        LDAP_FILTER_OBJECT_SEARCH=${LDAP_FILTER_OBJECT_SEARCH:-"(|(mail=*%s*)(givenName=*%s*)(sn=*%s*))"}
        LDAP_FILTER_USER_SEARCH="(&(objectClass=kopano-user)(kopanoAccount=1))"
        LDAP_OBJECT_ATTRIBUTE_TYPE_CONTACT=${LDAP_OBJECT_ATTRIBUTE_TYPE_CONTACT:-"kopano-contact"}
        LDAP_OBJECT_ATTRIBUTE_TYPE_DYNAMICGROUP=${LDAP_OBJECT_ATTRIBUTE_TYPE_DYNAMICGROUP:-"kopano-dynamicgroup"}
        LDAP_OBJECT_ATTRIBUTE_TYPE_GROUP=kopano-group
        LDAP_OBJECT_ATTRIBUTE_TYPE_SERVER=${LDAP_OBJECT_ATTRIBUTE_TYPE_SERVER:-"ipHost"}
        LDAP_OBJECT_ATTRIBUTE_TYPE_USER=kopano-user
        LDAP_QUOTA_MULTIPLIER=${LDAP_QUOTA_MULTIPLIER:-"1"}
    ;;
    "OPENLDAP" | "openldap" )
        LDAP_ATTRIBUTE_LAST_MODIFICATION=${LDAP_ATTRIBUTE_LAST_MODIFICATION:-"modifyTimestamp"}
        LDAP_OBJECT_ATTRIBUTE_TYPE_USER=${LDAP_OBJECT_ATTRIBUTE_TYPE_USER:-"posixAccount"}
        LDAP_OBJECT_ATTRIBUTE_TYPE_GROUP=${LDAP_OBJECT_ATTRIBUTE_TYPE_GROUP:-"posixGroup"}
        LDAP_OBJECT_ATTRIBUTE_TYPE_CONTACT=${LDAP_OBJECT_ATTRIBUTE_TYPE_CONTACT:-"kopano-contact"}
        LDAP_OBJECT_ATTRIBUTE_TYPE_DYNAMICGROUP=${LDAP_OBJECT_ATTRIBUTE_TYPE_DYNAMICGROUP:-"kopano-dynamicgroup"}
        LDAP_OBJECT_ATTRIBUTE_TYPE_SERVER=${LDAP_OBJECT_ATTRIBUTE_TYPE_SERVER:-"ipHost"}
        LDAP_FILTER_USER_SEARCH=${LDAP_FILTER_USER_SEARCH:-""}
        LDAP_ATTRIBUTE_USER_UNIQUE=${LDAP_ATTRIBUTE_USER_UNIQUE:-"uidNumber"}
        LDAP_ATTRIBUTE_TYPE_USER_UNIQUE=${LDAP_ATTRIBUTE_TYPE_USER_UNIQUE:-"text"}
        LDAP_ATTRIBUTE_LOGINNAME=${LDAP_ATTRIBUTE_LOGINNAME:-"uid"}
        LDAP_ATTRIBUTE_PASSWORD=${LDAP_ATTRIBUTE_PASSWORD:-"userPassword"}
        LDAP_ATTRIBUTE_EMAIL_ALIASES=${LDAP_ATTRIBUTE_EMAIL_ALIASES:-"kopanoAliases"}
        LDAP_ATTRIBUTE_TYPE_SENDAS=${LDAP_ATTRIBUTE_TYPE_SENDAS:-"text"}
        LDAP_ATTRIBUTE_SENDAS_RELATION=${LDAP_ATTRIBUTE_SENDAS_RELATION:-""}
        LDAP_ATTRIBUTE_USER_CERTIFICATE=${LDAP_ATTRIBUTE_USER_CERTIFICATE:-"userCertificate;binary"}
        LDAP_FILTER_GROUP_SEARCH=${LDAP_FILTER_GROUP_SEARCH:-""}
        LDAP_ATTRIBUTE_GROUP_UNIQUE=${LDAP_ATTRIBUTE_GROUP_UNIQUE:-"gidNumber"}
        LDAP_ATTRIBUTE_TYPE_GROUP_UNIQUE=${LDAP_ATTRIBUTE_TYPE_GROUP_UNIQUE:-"text"}
        LDAP_ATTRIBUTE_GROUP_MEMBERS=${LDAP_ATTRIBUTE_GROUP_MEMBERS:-"memberUid"}
        LDAP_ATTRIBUTE_TYPE_GROUP_MEMBERS=${LDAP_ATTRIBUTE_TYPE_GROUP_MEMBERS:-"text"}
        LDAP_ATTRIBUTE_GROUP_MEMBERS_RELATION=${LDAP_ATTRIBUTE_GROUP_MEMBERS_RELATION:-"uid"}
        LDAP_ATTRIBUTE_GROUP_SECURITY=${LDAP_ATTRIBUTE_GROUP_SECURITY:-"kopanoSecurityGroup"}
        LDAP_ATTRIBUTE_TYPE_GROUP_SECURITY=${LDAP_ATTRIBUTE_TYPE_GROUP_SECURITY:-"boolean"}
        LDAP_FILTER_COMPANY_SEARCH=${LDAP_FILTER_COMPANY_SEARCH:-""}
        LDAP_ATTRIBUTE_COMPANY_UNIQUE=${LDAP_ATTRIBUTE_COMPANY_UNIQUE:-"ou"}
        LDAP_ATTRIBUTE_TYPE_COMPANY_UNIQUE=${LDAP_ATTRIBUTE_TYPE_COMPANY_UNIQUE:-"text"}
        LDAP_ATTRIBUTE_TYPE_COMPANY_VIEW=${LDAP_ATTRIBUTE_TYPE_COMPANY_VIEW:-"text"}
        LDAP_ATTRIBUTE_TYPE_COMPANY_ADMIN=${LDAP_ATTRIBUTE_TYPE_COMPANY_ADMIN:-"text"}
        LDAP_ATTRIBUTE_TYPE_COMPANY_SYSADMIN=${LDAP_ATTRIBUTE_TYPE_COMPANY_SYSADMIN:-"text"}
        LDAP_ATTRIBUTE_ADDRESSLIST_UNIQUE=${LDAP_ATTRIBUTE_ADDRESSLIST_UNIQUE:-"cn"}
        LDAP_ATTRIBUTE_TYPE_QUOTA_USERWARNING_RECIPIENTS=${LDAP_ATTRIBUTE_TYPE_QUOTA_USERWARNING_RECIPIENTS:-"text"}
        LDAP_ATTRIBUTE_TYPE_QUOTA_COMPANYWARNING_RECIPIENTS=${LDAP_ATTRIBUTE_TYPE_QUOTA_COMPANYWARNING_RECIPIENTS:-"text"}
        LDAP_QUOTA_MULTIPLIER=${LDAP_QUOTA_MULTIPLIER:-"1"}
        LDAP_FILTER_OBJECT_SEARCH=${LDAP_FILTER_OBJECT_SEARCH:-"(|(mail=*%s*)(givenName=*%s*)(sn=*%s*))"}
        LDAP_FILTER_MULTIUSER_SERVER_SEARCH=${LDAP_FILTER_MULTIUSER_SERVER_SEARCH:-""}
        LDAP_ATTRIBUTE_MULTIUSER_SERVER_UNIQUE=${LDAP_ATTRIBUTE_MULTIUSER_SERVER_UNIQUE:-"cn"}
    ;;
esac
