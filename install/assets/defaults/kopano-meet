#!/usr/bin/with-contenv bash

GRAPI_CONFIG_FILE=${GRAPI_CONFIG_FILE:-"grapi.cfg"}
GRAPI_DISABLE_TLS_VALIDATION=${GRAPI_DISABLE_TLS_VALIDATION:-"FALSE"}
GRAPI_ENABLE_EXPERIMENTAL_ENDPOINTS=${GRAPI_ENABLE_EXPERIMENTAL_ENDPOINTS:-"FALSE"}
GRAPI_PATH=${GRAPI_PATH:-"/data/grapi"}
GRAPI_PID_FILE=${GRAPI_PID_FILE:-"/var/run/kopano-grapi/grapi.pid"}
GRAPI_WORKERS=${GRAPI_WORKERS:-8}
KAPI_CONFIG_FILE=${KAPI_CONFIG_FILE:-"kapid.cfg"}
KAPI_DISABLE_TLS_VALIDATION=${KAPI_DISABLE_TLS_VALIDATION:-"FALSE"}
KAPI_HOST_SECURE=${KAPI_HOST_SECURE:-"FALSE"}
KAPI_KVS_DB_SQLITE_FILE=${KAPI_KVS_DB_SQLITE_FILE:-"/data/kapi/kvs/kvs.db"}
KAPI_KVS_DB_TYPE=${KAPI_KVS_DB_TYPE:-"SQLITE3"}
KAPI_KVS_PATH_DB_MIGRATIONS=${KAPI_KVS_PATH_DB_MIGRATIONS:-"/usr/lib/kopano/kapi-kvs/db/migrations"}
KAPI_LISTEN_HOST=${KAPI_LISTEN_HOST:-"127.0.0.1"}
KAPI_LISTEN_PORT=${KAPI_LISTEN_PORT:-8039}
KAPI_PATH_PLUGINS=${KAPI_PATH_PLUGINS:-"/usr/lib/kopano/kapid-plugins"}
KAPI_PLUGINS=${KAPI_PLUGINS:-"grapi kvs pubs"}
KAPI_PUBS_SECRET_KEY_FILE=${KAPI_PUBS_SECRET_KEY_FILE:-"/certs/kapi/kapid-pubs-secret.key"}
KWM_CONFIG_FILE=${KWM_CONFIG_FILE:-"kwmserverd.cfg"}
KWM_CONFIG_FILE_REGISTRATION=${KWM_CONFIG_FILE_REGISTRATION:-"kwmserverd-registration.yml"}
KWM_DISABLE_TLS_VALIDATION=${KWM_DISABLE_TLS_VALIDATION:-"FALSE"}
KWM_ENABLE_API_GUEST=${KWM_ENABLE_API_GUEST:-"FALSE"}
KWM_ENABLE_API_MCU=${KWM_ENABLE_API_MCU:-"FALSE"}
KWM_ENABLE_API_RTM=${KWM_ENABLE_API_RTM:-"TRUE"}
KWM_GUEST_ALLOW_JOIN_EMPTY=${KWM_GUEST_ALLOW_JOIN_EMPTY:-"FALSE"}
KWM_GUEST_PUBLIC_ACCESS_REGEXP=${KWM_GUEST_PUBLIC_ACCESS_REGEXP:-"^group/public/.*"}
KWM_HOST_SECURE=${KWM_HOST_SECURE:-"FALSE"}
KWM_LISTEN_HOST=${KWM_LISTEN_HOST:-127.0.0.1}
KWM_LISTEN_PORT=${KWM_LISTEN_PORT:-8778}
KWM_TOKENS_SECRET_KEY_FILE=${KWM_TOKENS_SECRET_KEY_FILE:-"/certs/kwm/kwm-tokens-secret.key"}
KWM_TURN_AUTH_SECRET_FILE=${KWM_TURN_AUTH_SECRET_FILE:-"/certs/kwm/kwm-turn-auth-secret.secret"}
KWM_TURN_AUTH_SERVER_FILE=${KWM_TURN_AUTH_SERVER_FILE:-"/certs/kwm/kwm-turn-auth-server.secret"}
KWM_TURN_URL=${KWM_TURN_URL:-"https://turnauth.kopano.com/turnserverauth/"}
MEET_DISABLE_FULL_GAB=${MEET_DISABLE_FULL_GAB:-"FALSE"}
MEET_ENABLE_GUESTS=${MEET_ENABLE_GUESTS:-"TRUE"}
MEET_EXTERNAL_APPS=${MEET_EXTERNAL_APPS:-"kopano-calendar,kopano-contacts,kopano-meet,kopano-mail,kopano-konnect,kopano-webapp"}
MEET_GUESTS_DEFAULT_USER=${MEET_GUESTS_DEFAULT_USER:-null}
MEET_KWM_URL=${MEET_KWM_URL:-""}
MEET_OIDC_ISS=${MEET_OIDC_ISS:-""}
MEET_WEBROOT=${MEET_WEBROOT:-"/usr/share/kopano-meet/meet-webapp"}
SOCKET_GRAPI=${SOCKET_GRAPI:-"/var/run/kopano-grapi"}

##
KAPI_HOST=${KAPI_HOST:-"${KAPI_LISTEN_HOST}"}
KAPI_PORT=${KAPI_PORT:-"${KAPI_LISTEN_PORT}"}
KONNECT_HOST=${KONNECT_HOST:-"${KONNECT_LISTEN_HOST}"}
KONNECT_PORT=${KONNECT_PORT:-"${KONNECT_LISTEN_PORT}"}
KWM_HOST=${KWM_HOST:-"${KWM_LISTEN_HOST}"}
KWM_PORT=${KWM_PORT:-"${KWM_LISTEN_PORT}"}

